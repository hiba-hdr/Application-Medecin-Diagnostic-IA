@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "_Layout";
    ViewBag.Title = "Succès";
}

@model List<TP_InterfaceWeb.Models.AjoutPatient>

@using (Html.BeginForm("PatientAjoute", "Medecin", FormMethod.Post))
{
      <h1 class="text-success">Liste des patients</h1>
     
     <br />
    foreach (TP_InterfaceWeb.Models.AjoutPatient newPatient in @Model)
    {
       if (@Model.IndexOf(newPatient) == @Model.Count - 1) 
       {
        <h3 class="bg-secondary">Dernier(e) Patient(e) "@newPatient.Nom @newPatient.Prenom" de la liste a été ajouté(e) avec succès !</h3>
        <br />
        <br />

         <div class="mt-2">
            <a class="btn btn-primary" asp-controller="Medecin" asp-action="Diagnostic">Retour à la page de diagnostic</a>
        </div>


        }
    
   
    }
    <table class="table">
    <thead>
        <th scope="row">Nom d'utilisateur</th>
        <th scope="row">Nom</th>
        <th scope="row">Prénom</th>
        <th scope="row">Consulter les informations</th>
        <th scope="row">Supprimer le patient</th>
    </thead>
    
    
    @foreach (TP_InterfaceWeb.Models.AjoutPatient newPatient in @Model)
    {
        <tr>
            <td>@newPatient.UserName</td>
            <td>@newPatient.Nom</td>
            <td>@newPatient.Prenom</td>
            <td>
               <a class="btn btn-success" href="@Url.Action("Infopatient", "Medecin", new { id = @newPatient.AjoutPatientId })">Consulter</a>
            </td>
            <td>
                <a class="btn btn-success" href="@Url.Action("SupprimerPatient", "Medecin", new { id = @newPatient.AjoutPatientId })">Supprimer</a>
            </td>
             <td>
                <a class="btn btn-success" href="@Url.Action("DiagnostiquerPatient", "Medecin", new { id = @newPatient.AjoutPatientId })">Diagnostiquer</a>
            </td>
        </tr>
       
        
    
   
    }
    </table>

    

}





